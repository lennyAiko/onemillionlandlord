{% extends 'base.html' %}

{% block content %}

<p class="h3">Edit Client</p>

<p class="h6">Filter the list of clients</p>
<form method="get" class="form-inline">
    {{myFilter.form.username}}
    {{myFilter.form.first_name}}
    {{myFilter.form.last_name}}
    <button class="btn btn-primary" type="submit">Search</button>
</form>

<br>

<div class="table-responsive">
<table class="table">
<tr>
    <th>Username</th>
    <th>First Name</th>
    <th>Last Name</th>
    <th>Email</th>
    <th>Phone</th>
</tr>
{% for client in page_obj %}

{% if client.staff.user == request.user %}
    
<tr>
    <td>{{client.username}}</td>
    <td>{{client.first_name}}</td>
    <td>{{client.last_name}}</td>
    <td>{{client.email}}</td>
    <td>{{client.phone}}</td>
    <td><a class="btn" href="{% url 'profile' client.id %}">View</a></td>
</tr>
{% endif %}
{% endfor %}
</table>
{% include 'paginator.html' %}
</div>
{% endblock %}